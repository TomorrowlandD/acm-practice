# [Poetize6] IncDec Sequence

https://www.luogu.com.cn/problem/P4552

## 题目描述

给定一个长度为 $n$ 的数列 ${a_1,a_2,\cdots,a_n}$，每次可以选择一个区间$[l,r]$，使这个区间内的数都加 $1$ 或者都减 $1$。 

请问至少需要多少次操作才能使数列中的所有数都一样，并求出在保证最少次数的前提下，最终得到的数列有多少种。

## 输入格式

第一行一个正整数 $n$   
接下来 $n$ 行,每行一个整数,第 $i+1 $行的整数表示 $a_i$。

## 输出格式

第一行输出最少操作次数   
第二行输出最终能得到多少种结果

## 样例 #1

### 样例输入 #1

```
4
1
1
2
2
```

### 样例输出 #1

```
1
2
```

## 提示

对于 $100\%$ 的数据，$n\le 100000, 0 \le a_i \le 2^{31}$。

### 分析过程：

+ 我们先构造数组a的差分序列b，我们要使得数组中所有的元素一样，那么就是使得差分序列中除了b~1~，其它的所有元素都为0，即b~2~——b~n~，这些数字都变为0。
+ 那么我们怎么做到这些数都变成0呢？需要多少次操作次数呢？我们可以采用贪心的思想，因为我们每次选择一个区间【L，R】，实行+1或者-1操作，就是对差分序列b中的两个点进行操作，一个点进行+1，一个点进行-1。那么我们优先将b~2~——b~n~ 中所有的正数和负数的值加起来。然后先对这些点进行+1，-1操作，让它们向0逼近。
+ 直接上图解释吧！

![img](https://img2024.cnblogs.com/blog/3476421/202408/3476421-20240811114458843-979283656.png)

## 代码：

```cpp
#include<bits/stdc++.h>
using namespace std;
#define int long long 
const int N = 100000+10;
int a[N],n,b[N];
signed main()
{
    cin>>n;
    for(int i=1;i<=n;i++) cin>>a[i];
    for(int i=1;i<=n;i++) b[i]=a[i]-a[i-1];
    int p=0,q=0;
    for(int i=2;i<=n;i++){
        if(b[i]>0) p+=b[i];
        else q+=abs(b[i]);
    }
    cout<<max(q,p)<<"\n"<<abs(p-q)+1;
    return 0;
}
```

