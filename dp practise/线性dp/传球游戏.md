# [NOIP2008 普及组] 传球游戏

https://www.luogu.com.cn/problem/P1057

## 题目描述

上体育课的时候，小蛮的老师经常带着同学们一起做游戏。这次，老师带着同学们一起做传球游戏。

游戏规则是这样的：$n$ 个同学站成一个圆圈，其中的一个同学手里拿着一个球，当老师吹哨子时开始传球，每个同学可以把球传给自己左右的两个同学中的一个（左右任意），当老师再次吹哨子时，传球停止，此时，拿着球没有传出去的那个同学就是败者，要给大家表演一个节目。

聪明的小蛮提出一个有趣的问题：有多少种不同的传球方法可以使得从小蛮手里开始传的球，传了 $m$ 次以后，又回到小蛮手里。两种传球方法被视作不同的方法，当且仅当这两种方法中，接到球的同学按接球顺序组成的序列是不同的。比如有三个同学 $1$ 号、$2$ 号、$3$ 号，并假设小蛮为 $1$ 号，球传了 $3$ 次回到小蛮手里的方式有 $1 \rightarrow 2 \rightarrow 3 \rightarrow 1$ 和 $1 \rightarrow 3 \rightarrow 2 \rightarrow 1$，共 $2$ 种。

## 输入格式

一行，有两个用空格隔开的整数 $n,m(3 \le n \le 30,1 \le m \le 30)$。

## 输出格式

$1$ 个整数，表示符合题意的方法数。

## 样例 #1

### 样例输入 #1

```
3 3
```

### 样例输出 #1

```
2
```

## 提示

### 数据范围及约定

- 对于 $40\%$ 的数据，满足：$3 \le n \le 30,1 \le m \le 20$；
- 对于 $100\%$ 的数据，满足：$3 \le n \le 30,1 \le m \le 30$。

2008普及组第三题

## 思路：

假设小蛮在第i个位置，那么我们要想通过m轮，重新将球放到小蛮这个位置，那么我们可以通过m-1轮时，小蛮旁边的两个人传给他，这就是状态转移，小蛮在第m轮的状态，可以通过第m-1轮时，小蛮旁边两个人的状态推出

这里其实可以知道，小蛮无论在第几个位置，答案都是一样的。这里假设小蛮在第一个位置

那么递推公式为：`dp[i][j]=dp[i-1][j-1]+dp[i-1][j+1]`

这里需要明确，`dp[i][j]` 的含义是：第i轮传到第j个人手中，总的方案数。

## 代码：

```cpp
#include<bits/stdc++.h>
using namespace std;
int n,m;
//dp[i][j]表示第i轮到达第j个人有多少种办法
int dp[35][35];
int main()
{
    cin>>n>>m;
    //假设小蛮这个人在第一个位置
    //小蛮在哪个位置都是一样的答案，假设在1这个位置
    //第0轮时，到达第一个位置，只有一种办法。
    dp[0][1]=1;
    //总共有m轮，n个人。
    for(int i=1;i<=m;i++){
        for(int j=1;j<=n;j++){
            //边界需要特判
            if(j==1) dp[i][j]=dp[i-1][n]+dp[i-1][2];
            else if(j==n) dp[i][j]=dp[i-1][1]+dp[i-1][n-1];
            else dp[i][j]=dp[i-1][j-1]+dp[i-1][j+1];
        }
    }
    cout<<dp[m][1];
    return 0;
}
```





