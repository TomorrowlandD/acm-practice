# [NOIP2003 普及组] 乒乓球

[P1042 [NOIP2003 普及组\] 乒乓球 - 洛谷 | 计算机科学教育新生态](https://www.luogu.com.cn/problem/P1042)

## 题目背景

国际乒联现在主席沙拉拉自从上任以来就立志于推行一系列改革，以推动乒乓球运动在全球的普及。其中 $11$ 分制改革引起了很大的争议，有一部分球员因为无法适应新规则只能选择退役。华华就是其中一位，他退役之后走上了乒乓球研究工作，意图弄明白 $11$ 分制和 $21$ 分制对选手的不同影响。在开展他的研究之前，他首先需要对他多年比赛的统计数据进行一些分析，所以需要你的帮忙。

## 题目描述

华华通过以下方式进行分析，首先将比赛每个球的胜负列成一张表，然后分别计算在 $11$ 分制和 $21$ 分制下，双方的比赛结果（截至记录末尾）。

比如现在有这么一份记录，（其中 $\texttt W$ 表示华华获得一分，$\texttt L$ 表示华华对手获得一分）：

$\texttt{WWWWWWWWWWWWWWWWWWWWWWLW}$

在 $11$ 分制下，此时比赛的结果是华华第一局 $11$ 比 $0$ 获胜，第二局 $11$ 比 $0$ 获胜，正在进行第三局，当前比分 $1$ 比 $1$。而在 $21$ 分制下，此时比赛结果是华华第一局 $21$ 比 $0$ 获胜，正在进行第二局，比分 $2$ 比 $1$。如果一局比赛刚开始，则此时比分为 $0$ 比 $0$。直到分差大于或者等于 $2$，才一局结束。

你的程序就是要对于一系列比赛信息的输入（$\texttt{WL}$ 形式），输出正确的结果。

## 输入格式

每个输入文件包含若干行字符串，字符串有大写的 $\texttt W$ 、 $\texttt L$ 和 $\texttt E$ 组成。其中 $\texttt E$ 表示比赛信息结束，程序应该忽略 $\texttt E$ 之后的所有内容。

## 输出格式

输出由两部分组成，每部分有若干行，每一行对应一局比赛的比分（按比赛信息输入顺序）。其中第一部分是 $11$ 分制下的结果，第二部分是 $21$ 分制下的结果，两部分之间由一个空行分隔。

## 样例 #1

### 样例输入 #1

```
WWWWWWWWWWWWWWWWWWWW
WWLWE
```

### 样例输出 #1

```
11:0
11:0
1:1

21:0
2:1
```

## 提示

每行至多 $25$ 个字母，最多有 $2500$ 行。

（注：事实上有一个测试点有 $2501$ 行数据。）

**【题目来源】**

NOIP 2003 普及组第一题





### 思路：

我们这道题首先得考虑输入的问题，怎么在不知道输入个数的情况下接收输入结果呢？由于我们知道输入的结束条件是什么，那么我们直接用while循环就可以实现这个要求，假设我们使用``str数组``来存储这个

字符串，使用``index``作为数组的起始下标，那么我们输入的语句可以写成：

```cpp
	char c;
	//输入数据，只接收E之前的字母
	while (cin >> c && c != 'E') {
		if (c == 'W' || c == 'L') str[index++]=c;
	}
```

处理完输入的任务以后，我们就是得对两种不同分制的情况下进行分类处理，我们可以编写一个函数进行处理，输入不同的分制，对应处理不同的结果，我们设这个函数的名字叫`show`，返回值为void.

我们可以直接在函数中处理输出结果。

#### 书写show函数

这个函数怎么写呢？首先得接收一个参数，作为要处理的分制，假设这个参数为`n`，那么我们直接遍历这个字符串，我们设变量`a`作为华华的分数，变量`b`作为华华对手的分数，当二者其中有任意

一个人到达了`n`的分数，并且``二者的分数差大于等于2``时，我们就输出第一次a和b的分数之比，同时这轮比赛结束，a和b我们都置为0。最后遍历结束时我们再输出一遍a和b的比值，这就是

最后一轮比赛华华和华华对手的分数之比。

### show函数的代码

```cpp
//n是几分制
void show(int n)
{
	//a表示华华的分数，b表示华华对手的分数
	int a=0, b = 0;
	for (int j = 0; j < index; j++) {
		//当前字母是W，就加华华的分数，否则就加华华对手的分数
		if (str[j] == 'W')a++;
		if (str[j] == 'L') b++;
		//有一个人达到了11分或者21分，并且他们的分差≥2
		if ((a >= n || b >= n) && abs(a - b) >= 2) {
			cout << a << ":" << b << endl;
			//重置他们的分数
			a = 0, b = 0;
		}
	}
	//输出他们最后一局的分数
	cout << a << ":" << b << endl;
}
```

### 最终的代码

只要show函数和输入的问题处理了，这道题就解决了，我们只需要传入11和21，并按题目的要求处理输出即可

```cpp
#include<iostream>
#include<cmath>
using namespace std;
//数组大小一定要开的足够
char str[25 * 2500 + 100];
//作为数组下标的索引
int index;
//n是几分制
void show(int n)
{
	//a表示华华的分数，b表示华华对手的分数
	int a=0, b = 0;
	for (int j = 0; j < index; j++) {
		//当前字母是W，就加华华的分数，否则就加华华对手的分数
		if (str[j] == 'W')a++;
		if (str[j] == 'L') b++;
		//有一个人达到了11分或者21分，并且他们的分差≥2
		if ((a >= n || b >= n) && abs(a - b) >= 2) {
			cout << a << ":" << b << endl;
			//重置他们的分数
			a = 0, b = 0;
		}
	}
	//输出他们最后一局的分数
	cout << a << ":" << b << endl;
}
int main()
{
	char c;
	//输入数据，只接收E之前的字母
	while (cin >> c && c != 'E') {
		if (c == 'W' || c == 'L') str[index++]=c;
	}
	//输出11分制下的结果
	show(11);
	//根据题目的要求，输出换行
	cout << endl;
	//输出21分制下的结果
	show(21);
	return 0;
}
```



